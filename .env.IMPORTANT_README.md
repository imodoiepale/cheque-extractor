# ⚠️ IMPORTANT - Environment Variables Security

## DO NOT COMMIT THESE FILES TO GIT:
- `.env` (your local environment file with REAL secrets)
- `.env.local` (local overrides with REAL secrets)
- `.env.production` (production secrets)
- `SECURITY_ALERT.md` (may contain leaked key references)

## SAFE TO COMMIT (example files only):
- `.env.example` (template with placeholders like `your_key_here`)
- `.env.railway.example` (template with placeholders)

## Current .gitignore Protection:
✅ `.env` - Ignored
✅ `.env.local` - Ignored
✅ `.env*.local` - Ignored
✅ `.env.development.local` - Ignored
✅ `.env.test.local` - Ignored
✅ `.env.production.local` - Ignored
✅ `SECURITY_ALERT.md` - Ignored

## Before Committing:
1. **ALWAYS** run: `git status` to check what files are staged
2. **VERIFY** no `.env` files (except `.example` files) are listed
3. **CHECK** that example files only have placeholders like:
   - `your_api_key_here`
   - `your_supabase_url_here`
   - NOT real keys starting with `AIzaSy...` or `eyJhbGc...`

## If You Accidentally Commit Secrets:
1. **DO NOT** just delete the file and commit again - secrets remain in git history
2. **IMMEDIATELY** rotate all exposed keys:
   - Gemini API keys: https://aistudio.google.com/apikey
   - Supabase keys: https://supabase.com/dashboard → Settings → API
3. **Remove from git history** using:
   ```bash
   git filter-branch --force --index-filter \
     "git rm --cached --ignore-unmatch .env.railway.example" \
     --prune-empty --tag-name-filter cat -- --all
   ```
4. **Force push** (⚠️ WARNING: This rewrites history):
   ```bash
   git push origin --force --all
   ```

## Best Practices:
- ✅ Use `.env.example` as a template
- ✅ Copy to `.env` and fill in real values locally
- ✅ Never share `.env` files via Slack/email/screenshots
- ✅ Use Railway/Vercel environment variable UI for production
- ✅ Enable "Secret scanning" in GitHub repository settings
- ✅ Review all commits before pushing

## Quick Check Command:
```bash
# Check if any .env files are tracked by git
git ls-files | findstr /i "\.env"

# Should only show:
# .env.example
# .env.railway.example
```
